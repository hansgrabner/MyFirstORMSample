<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Prüfungsprojekt: Datenbankprogrammierung II – Java &amp; Hibernate (JPA-Grundlagen)</title>
    <style>
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            line-height: 1.5;
            margin: 0;
            padding: 0;
            background: #f5f7fb;
            color: #222;
        }

        .page {
            max-width: 960px;
            margin: 40px auto;
            padding: 32px 40px;
            background: #ffffff;
            box-shadow: 0 8px 24px rgba(15, 23, 42, 0.12);
            border-radius: 12px;
        }

        h1, h2, h3 {
            color: #111827;
            margin-top: 0;
        }

        h1 {
            font-size: 1.8rem;
            margin-bottom: 0.25rem;
        }

        h2 {
            font-size: 1.4rem;
            margin-top: 2rem;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 0.25rem;
        }

        h3 {
            font-size: 1.1rem;
            margin-top: 1.5rem;
        }

        .subtitle {
            font-size: 1rem;
            color: #4b5563;
            margin-bottom: 1.5rem;
        }

        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 999px;
            background: #eff6ff;
            color: #1d4ed8;
            font-size: 0.85rem;
            font-weight: 600;
            margin-left: 8px;
            vertical-align: middle;
        }

        p {
            margin: 0.3rem 0 0.6rem;
        }

        ul {
            margin: 0.2rem 0 0.8rem 1.25rem;
        }

        li {
            margin: 0.15rem 0;
        }

        .section-intro {
            padding: 12px 16px;
            background: #f3f4ff;
            border-radius: 8px;
            border-left: 4px solid #4f46e5;
            margin-bottom: 1.25rem;
        }

        .code-inline {
            font-family: "Fira Code", Consolas, Menlo, Monaco, "Courier New", monospace;
            background: #f3f4f6;
            padding: 1px 4px;
            border-radius: 4px;
            font-size: 0.9em;
        }

        pre {
            background: #0b1120;
            color: #e5e7eb;
            padding: 12px 14px;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 0.9rem;
            margin: 0.4rem 0 0.8rem;
        }

        code {
            font-family: "Fira Code", Consolas, Menlo, Monaco, "Courier New", monospace;
        }

        .hint {
            font-size: 0.9rem;
            color: #4b5563;
            padding: 8px 10px;
            border-left: 3px solid #9ca3af;
            background: #f9fafb;
            border-radius: 6px;
            margin-top: 0.5rem;
        }

        .list-heading {
            font-weight: 600;
            margin-top: 0.4rem;
        }

        .requirements-list {
            margin-top: 0.2rem;
        }

        .sub-list {
            margin-top: 0.1rem;
        }

        .task-header {
            display: flex;
            align-items: baseline;
            gap: 8px;
            flex-wrap: wrap;
        }

        @media print {
            body {
                background: #ffffff;
            }
            .page {
                box-shadow: none;
                margin: 0;
                border-radius: 0;
            }
        }
    </style>
</head>
<body>
<div class="page">

    <h1>Prüfungsprojekt: Datenbankprogrammierung II</h1>
    <p class="subtitle">Java &amp; Hibernate (JPA-Grundlagen)</p>

    <div class="section-intro">
        <h2>Ziel des Projekts</h2>
        <p>
            Im Rahmen dieses Prüfungsprojekts soll eine kleine, aber in sich stimmige Datenbankanwendung
            mit Java und Hibernate (JPA) umgesetzt werden.
        </p>
        <p>
            Das konkrete Domänenmodell (z. B. Bibliothek, Kursverwaltung, Bestellsystem, Fuhrpark, …)
            soll von Ihnen selbst gewählt werden, muss aber
            <strong>mindestens drei logisch miteinander verbundene Entitäten</strong> beinhalten.
        </p>
    </div>

    <!-- Aufgabe 1 -->
    <div>
        <div class="task-header">
            <h2>Aufgabe 1 – Modellierung &amp; Mapping</h2>
            <span class="badge">30 Punkte</span>
        </div>

        <h3>Ziel</h3>
        <p>Entitätsmodell aufbauen und per Annotation und XML konfigurieren.</p>

        <h3>Anforderungen</h3>

        <p class="list-heading">Mindestens drei verbundene Entitäten <span class="badge">10 Punkte</span></p>
        <ul class="requirements-list">
            <li>Jede Entität:
                <ul class="sub-list">
                    <li>ist mit <span class="code-inline">@Entity</span> versehen (bzw. im XML als Entity definiert)</li>
                    <li>besitzt einen Primärschlüssel (<span class="code-inline">@Id</span>) und eine technische ID
                        (z. B. <span class="code-inline">Long id</span> mit <span class="code-inline">@GeneratedValue</span>)
                    </li>
                    <li>enthält mehrere fachliche Attribute (z. B. <span class="code-inline">name</span>,
                        <span class="code-inline">preis</span>, <span class="code-inline">datum</span>, …)
                    </li>
                </ul>
            </li>
        </ul>

        <p class="list-heading">Konfiguration über Annotationen und XML-Mapping-Files <span class="badge">10 Punkte</span></p>
        <p>Es soll bewusst beides vorkommen:</p>
        <ul class="requirements-list">
            <li>Mindestens eine Entität primär über Annotationen konfiguriert</li>
            <li>Mindestens eine Entität wird (zusätzlich oder ausschließlich) über ein XML-Mapping-File konfiguriert
                (z. B. Tabellenname, Spaltennamen, Beziehungen, <span class="code-inline">@Column</span>,
                <span class="code-inline">@Table</span> etc. im XML definiert oder überschrieben)
            </li>
        </ul>

        <p>Wichtig ist, dass klar erkennbar ist:</p>
        <ul class="requirements-list">
            <li>wie Annotationen wirken</li>
            <li>wie ein Mapping via XML aussieht</li>
            <li>wie sich beides kombinieren/überschreiben lässt</li>
        </ul>

        <p class="list-heading">Dokumentation der verwendeten Annotationen / Properties <span class="badge">10 Punkte</span></p>
        <p>
            Ein kurzes Dokument (ca. 1–2 Seiten), in dem die wichtigsten verwendeten Annotationen / Elemente
            stichwortartig erklärt werden, z. B.:
        </p>
        <ul class="requirements-list">
            <li><span class="code-inline">@Entity</span>, <span class="code-inline">@Table</span>,
                <span class="code-inline">@Id</span>, <span class="code-inline">@GeneratedValue</span>,
                <span class="code-inline">@Column</span>
            </li>
            <li><span class="code-inline">@OneToMany</span>, <span class="code-inline">@ManyToOne</span>,
                <span class="code-inline">@OneToOne</span>, <span class="code-inline">@ManyToMany</span>
            </li>
            <li>relevante XML-Tags (z. B. <span class="code-inline">&lt;entity&gt;</span>,
                <span class="code-inline">&lt;attributes&gt;</span>,
                <span class="code-inline">&lt;id&gt;</span>,
                <span class="code-inline">&lt;many-to-one&gt;</span>, …)
            </li>
        </ul>
        <p>Pro Annotation 1–2 Sätze, wofür sie in diesem Projekt verwendet wird.</p>
    </div>

    <!-- Aufgabe 2 -->
    <div>
        <div class="task-header">
            <h2>Aufgabe 2 – CRUD-Operationen inkl. Transaktionen</h2>
            <span class="badge">20 Punkte</span>
        </div>

        <h3>Ziel</h3>
        <p>Grundlegende Datenbankoperationen (Create, Read, Update, Delete) sauber mit JPA/Hibernate und Transaktionen umsetzen.</p>

        <h3>Anforderungen</h3>

        <p class="list-heading">CRUD für mindestens eine „Hauptentität“ (z. B. Kunde, Buch, Kurs) <span class="badge">10 Punkte</span></p>
        <p>Implementieren Sie eine Service- oder DAO-Klasse, die folgende Methoden bereitstellt:</p>
        <ul class="requirements-list">
            <li><span class="code-inline">create(...)</span> – Anlegen eines neuen Datensatzes</li>
            <li><span class="code-inline">findById(...)</span> – Lesen eines Datensatzes per Primärschlüssel</li>
            <li><span class="code-inline">findAll()</span> – Lesen aller Datensätze</li>
            <li><span class="code-inline">update(...)</span> – Ändern eines bestehenden Datensatzes</li>
            <li><span class="code-inline">delete(...)</span> – Löschen eines Datensatzes</li>
        </ul>

        <p class="list-heading">Verwendung von Transaktionen <span class="badge">10 Punkte</span></p>
        <p>Alle Datenbankzugriffe erfolgen in Transaktionen:</p>
        <ul class="requirements-list">
            <li>Start einer Transaktion vor der Operation</li>
            <li><span class="code-inline">commit</span> bei Erfolg</li>
            <li><span class="code-inline">rollback</span> im Fehlerfall (z. B. mit <span class="code-inline">try/catch</span>)</li>
        </ul>

        <p>
            Dies kann z. B. über einen <span class="code-inline">EntityManager</span> mit
            <span class="code-inline">getTransaction()</span> oder über einen von Ihnen abstrahierten
            Transaktions-Helper umgesetzt werden.
        </p>
        <p>
            Die Funktionsfähigkeit soll durch ein kleines Test- oder Demo-Programm gezeigt werden
            (z. B. <span class="code-inline">main</span>-Methode oder einfache JUnit-Tests).
        </p>
    </div>

    <!-- Aufgabe 3 -->
    <div>
        <div class="task-header">
            <h2>Aufgabe 3 – Abfragen mit HQL</h2>
            <span class="badge">20 Punkte</span>
        </div>

        <h3>Ziel</h3>
        <p>Unterschiedliche JPQL-/HQL-Abfragen inkl. Filter, Aggregation und Pagination.</p>

        <h3>Anforderungen</h3>
        <p>
            Implementieren Sie mindestens vier verschiedene JPQL-/HQL-Abfragen, die zusammen folgende Punkte abdecken:
        </p>

        <p class="list-heading">WHERE + Named Parameter <span class="badge">3 Punkte</span></p>
        <p>Beispiel: Suche nach Entitäten mit bestimmtem Attributwert</p>
        <pre><code>SELECT e FROM Entitaet e WHERE e.name = :name</code></pre>

        <p class="list-heading">GROUP BY + Aggregatfunktion <span class="badge">4 Punkte</span></p>
        <p>Beispiel: Anzahl / Summe pro Kategorie</p>
        <pre><code>SELECT kategorie, COUNT(e) FROM Entitaet e GROUP BY kategorie</code></pre>

        <p class="list-heading">Alias &amp; Sortierung (ORDER BY) <span class="badge">3 Punkte</span></p>
        <p>Nutzung von Aliassen und Sortierung nach einem Feld.</p>

        <p class="list-heading">Pagination (Seitenweise laden) <span class="badge">5 Punkte</span></p>
        <p>
            Verwendung von <span class="code-inline">setFirstResult(...)</span> und
            <span class="code-inline">setMaxResults(...)</span>, um nur einen Teil der Ergebnisse zu laden
            (z. B. „erste 10 Datensätze“).
        </p>
        <p class="list-heading">JOINS  <span class="badge">5 Punkte</span></p>
        <div class="hint">
            <strong>Hinweis:</strong><br>
            Die Abfragen können in einer eigenen Service-/DAO-Klasse oder in einer
            „Query-Demo“-Klasse implementiert sein. Wichtig ist, dass sie lauffähig sind und
            bei der Korrektur nachvollzogen werden können.
        </div>
    </div>

    <!-- Aufgabe 4 -->
    <div>
        <div class="task-header">
            <h2>Aufgabe 4 – Associations / Relationships</h2>
            <span class="badge">30 Punkte</span>
            <p>
            <ul>
                <li>https://www.baeldung.com/jpa-hibernate-associations</li>
                <li>https://stackabuse.com/a-guide-to-jpa-with-hibernate-relationship-mapping/</li>
                <li>https://docs.hibernate.org/core/3.3/reference/en/html/associations.html</li>
            </ul>

        </div>

        <h3>Ziel</h3>
        <p>Umsetzung von Entitätsbeziehungen in JPA/Hibernate.</p>

        <h3>Anforderungen</h3>

        <p class="list-heading">One-to-Many / Many-to-One <span class="badge">10 Punkte</span></p>
        <ul class="requirements-list">
            <li>Mindestens eine Beziehung vom Typ <strong>1:n</strong> und die dazugehörige <strong>n:1</strong>-Seite,
                z. B.:
                <ul class="sub-list">
                    <li>Kunde – Bestellung</li>
                    <li>Autor – Buch</li>
                </ul>
            </li>
            <li>Korrekte Verwendung von <span class="code-inline">@OneToMany</span> /
                <span class="code-inline">@ManyToOne</span> inkl. <span class="code-inline">mappedBy</span>
                und Eigentümerseite
            </li>
            <li>Zeigen Sie den Unterschied zwischen Eager-Loading und Lazy-Loading
            </li>
        </ul>

        <p class="list-heading">One-to-One <span class="badge">5 Punkte</span></p>
        <ul class="requirements-list">
            <li>Eine Beziehung vom Typ <strong>1:1</strong>, z. B.:
                <ul class="sub-list">
                    <li>Person – PersonDetail</li>
                </ul>
            </li>
            <li>eine Seite als Eigentümer klar erkennbar</li>
        </ul>

        <p class="list-heading">Many-to-Many (optional, aber empfohlen) <span class="badge">5 Punkte</span></p>
        <ul class="requirements-list">
            <li>Mindestens eine <span class="code-inline">@ManyToMany</span>-Beziehung (z. B. Student – Kurs)</li>
            <li>Umsetzung via Join-Tabelle</li>
        </ul>

        <p class="list-heading">Unidirektionale und bidirektionale Beziehungen <span class="badge">10 Punkte</span></p>
        <ul class="requirements-list">
            <li>Mindestens eine Beziehung <strong>bidirektional</strong> modelliert, z. B.:
                <ul class="sub-list">
                    <li>Kunde kennt seine Bestellungen <em>und</em> Bestellung kennt ihren Kunden</li>
                </ul>
            </li>
            <li>Mindestens eine Beziehung <strong>unidirektional</strong>, z. B.:
                <ul class="sub-list">
                    <li>Rechnung kennt Kunde, aber nicht umgekehrt</li>
                </ul>
            </li>
        </ul>

        <p>Im Demo-/Testcode soll gezeigt werden, dass:</p>
        <ul class="requirements-list">
            <li>verknüpfte Objekte korrekt gespeichert werden</li>
            <li>Beziehungen beim Einlesen wieder korrekt gefüllt sind
                (z. B. <span class="code-inline">kunde.getBestellungen()</span>)
            </li>
        </ul>
    </div>

</div>
</body>
</html>
